package com.aviva.documentroute;

import com.aviva.ezflow.model.documentroute.DocumentRoute;
import com.aviva.ezflow.model.documentroute.CheckList;
import com.aviva.ezflow.model.documentroute.DocCheckList;

rule "extract checklist from documentroute"
dialect "mvel"
salience 100
when
    $docRoute : DocumentRoute(this != null, docCheckList != null)
    $checklist : CheckList() from $docRoute.docCheckList.checkList
then
    System.out.println("checklist is inserted");
    insert ($checklist);
end